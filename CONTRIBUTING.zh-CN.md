# è´¡çŒ®æŒ‡å—

æ„Ÿè°¢æ‚¨å¯¹ AgentX çš„è´¡çŒ®å…´è¶£ï¼æˆ‘ä»¬æ¬¢è¿æ¥è‡ªç¤¾åŒºçš„è´¡çŒ®ï¼Œå¹¶æ„Ÿè°¢æ‚¨çš„æ”¯æŒã€‚

## ç›®å½•

- [è¡Œä¸ºå‡†åˆ™](#è¡Œä¸ºå‡†åˆ™)
- [å…¥é—¨æŒ‡å—](#å…¥é—¨æŒ‡å—)
- [å¼€å‘ç¯å¢ƒè®¾ç½®](#å¼€å‘ç¯å¢ƒè®¾ç½®)
- [å¦‚ä½•è´¡çŒ®](#å¦‚ä½•è´¡çŒ®)
- [ä»£ç é£æ ¼æŒ‡å—](#ä»£ç é£æ ¼æŒ‡å—)
- [æäº¤æ¶ˆæ¯æŒ‡å—](#æäº¤æ¶ˆæ¯æŒ‡å—)
- [æ‹‰å–è¯·æ±‚æµç¨‹](#æ‹‰å–è¯·æ±‚æµç¨‹)
- [æµ‹è¯•](#æµ‹è¯•)
- [æ–‡æ¡£](#æ–‡æ¡£)
- [ç¤¾åŒº](#ç¤¾åŒº)

---

## è¡Œä¸ºå‡†åˆ™

é€šè¿‡å‚ä¸æ­¤é¡¹ç›®ï¼Œæ‚¨åŒæ„ä¸ºæ¯ä¸ªäººç»´æŠ¤ä¸€ä¸ªå°Šé‡å’ŒåŒ…å®¹çš„ç¯å¢ƒã€‚è¯·ä¿æŒå‹å–„ã€ä¸“ä¸šå’Œåä½œã€‚

### æˆ‘ä»¬çš„æ ‡å‡†

- **å°Šé‡**ï¼šå°Šé‡å’Œä½“è°…æ¯ä¸ªäºº
- **å»ºè®¾æ€§**ï¼šæä¾›å»ºè®¾æ€§çš„åé¦ˆå’Œå»ºè®®
- **è€å¿ƒ**ï¼šå¸®åŠ©ä»–äººå­¦ä¹ å’Œæˆé•¿
- **åŒ…å®¹**ï¼šæ¬¢è¿ä¸åŒçš„è§‚ç‚¹å’ŒèƒŒæ™¯

---

## å…¥é—¨æŒ‡å—

### å‰ææ¡ä»¶

åœ¨è´¡çŒ®ä¹‹å‰ï¼Œè¯·ç¡®ä¿æ‚¨æ‹¥æœ‰ï¼š

- **Rust 1.83+**ï¼ˆ2024 ç‰ˆæœ¬ï¼‰
- **Git** ç”¨äºç‰ˆæœ¬æ§åˆ¶
- **å¹³å°ç‰¹å®šçš„ä¾èµ–é¡¹**ï¼š
  - **macOS**ï¼šXcode å‘½ä»¤è¡Œå·¥å…·
  - **Linux**ï¼š`libxcb`ã€`libfontconfig`ã€`libssl-dev`
  - **Windows**ï¼šMSVC å·¥å…·é“¾

### æŸ¥æ‰¾è¦å¤„ç†çš„é—®é¢˜

1. æµè§ˆ [é—®é¢˜è·Ÿè¸ªå™¨](https://github.com/sxhxliang/gpui-component/issues)
2. å¯»æ‰¾æ ‡è®°ä¸ºä»¥ä¸‹æ ‡ç­¾çš„é—®é¢˜ï¼š
   - `good first issue` - é€‚åˆæ–°æ‰‹
   - `help wanted` - æˆ‘ä»¬éœ€è¦å¸®åŠ©
   - `bug` - å­˜åœ¨é—®é¢˜
   - `enhancement` - æ–°åŠŸèƒ½æˆ–è¯·æ±‚

3. åœ¨é—®é¢˜ä¸Šå‘è¡¨è¯„è®ºï¼Œè®©å…¶ä»–äººçŸ¥é“æ‚¨æ­£åœ¨å¤„ç†å®ƒ

---

## å¼€å‘ç¯å¢ƒè®¾ç½®

### 1. Fork å’Œå…‹éš†

```bash
# é¦–å…ˆåœ¨ GitHub ä¸Š Fork ä»“åº“

# å…‹éš†æ‚¨çš„ fork
git clone https://github.com/YOUR-USERNAME/gpui-component.git
cd gpui-component/agent-studio
```

### 2. æ„å»ºé¡¹ç›®

```bash
# è°ƒè¯•æ„å»º
cargo build

# è¿è¡Œåº”ç”¨ç¨‹åº
cargo run

# å¸¦æ—¥å¿—è¿è¡Œ
RUST_LOG=info cargo run
```

### 3. åˆ›å»ºåˆ†æ”¯

```bash
# åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
git checkout -b feature/your-feature-name

# æˆ–ç”¨äºé”™è¯¯ä¿®å¤
git checkout -b fix/bug-description
```

---

## å¦‚ä½•è´¡çŒ®

### æŠ¥å‘Šé”™è¯¯

**æäº¤å‰**ï¼Œè¯·ï¼š
1. æ£€æŸ¥é”™è¯¯æ˜¯å¦å·²è¢«æŠ¥å‘Š
2. ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬æµ‹è¯•
3. éªŒè¯å®ƒæ˜¯å¯é‡ç°çš„

**é”™è¯¯æŠ¥å‘Šæ¨¡æ¿ï¼š**

```markdown
### æè¿°
é”™è¯¯çš„æ¸…æ™°æè¿°

### é‡ç°æ­¥éª¤
1. æ­¥éª¤ä¸€
2. æ­¥éª¤äºŒ
3. ...

### é¢„æœŸè¡Œä¸º
åº”è¯¥å‘ç”Ÿä»€ä¹ˆ

### å®é™…è¡Œä¸º
å®é™…å‘ç”Ÿäº†ä»€ä¹ˆ

### ç¯å¢ƒ
- æ“ä½œç³»ç»Ÿï¼š[ä¾‹å¦‚ macOS 14.0]
- AgentX ç‰ˆæœ¬ï¼š[ä¾‹å¦‚ 0.5.0]
- Rust ç‰ˆæœ¬ï¼š[ä¾‹å¦‚ 1.83]

### é™„åŠ ä¸Šä¸‹æ–‡
å±å¹•æˆªå›¾ã€æ—¥å¿—æˆ–å…¶ä»–ç›¸å…³ä¿¡æ¯
```

### å»ºè®®åŠŸèƒ½

**åŠŸèƒ½è¯·æ±‚æ¨¡æ¿ï¼š**

```markdown
### é—®é¢˜
æ­¤åŠŸèƒ½è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ

### å»ºè®®çš„è§£å†³æ–¹æ¡ˆ
æ­¤åŠŸèƒ½å¦‚ä½•å·¥ä½œï¼Ÿ

### è€ƒè™‘çš„æ›¿ä»£æ–¹æ¡ˆ
æ‚¨è€ƒè™‘è¿‡çš„å…¶ä»–æ–¹æ³•

### é™„åŠ ä¸Šä¸‹æ–‡
æ¨¡å‹ã€ç¤ºä¾‹æˆ–ç”¨ä¾‹
```

### è´¡çŒ®ä»£ç 

1. **å…ˆè®¨è®º**å¤§çš„æ›´æ”¹
2. **ä¿æŒä¸“æ³¨** - æ¯ä¸ª PR ä¸€ä¸ªåŠŸèƒ½/ä¿®å¤
3. **ç¼–å†™æµ‹è¯•**ï¼ˆå¦‚æœé€‚ç”¨ï¼‰
4. **æ›´æ–°æ–‡æ¡£**ï¼ˆå¦‚æœéœ€è¦ï¼‰
5. **éµå¾ªä»£ç é£æ ¼**æŒ‡å—

---

## ä»£ç é£æ ¼æŒ‡å—

### Rust é£æ ¼

æˆ‘ä»¬éµå¾ªæ ‡å‡†çš„ Rust çº¦å®šï¼š

```rust
// ä½¿ç”¨æè¿°æ€§åç§°
fn calculate_total_price(items: &[Item]) -> f64 {
    items.iter().map(|item| item.price).sum()
}

// é€»è¾‘åˆ†ç»„å¯¼å…¥
use std::collections::HashMap;

use anyhow::Result;
use gpui::{App, Context, Entity};

use crate::core::AppState;
use super::panel::Panel;

// è®°å½•å…¬å…± API
/// è®¡ç®—æ‰€æœ‰é¡¹ç›®çš„æ€»ä»·æ ¼
///
/// # å‚æ•°
/// * `items` - è¦æ±‚å’Œçš„é¡¹ç›®åˆ‡ç‰‡
///
/// # è¿”å›
/// æ€»ä»·æ ¼ï¼ˆæµ®ç‚¹æ•°ï¼‰
pub fn calculate_total(items: &[Item]) -> f64 {
    // å®ç°
}
```

### GPUI æ¨¡å¼

**å®ä½“ç”Ÿå‘½å‘¨æœŸï¼š**

```rust
// âŒ é”™è¯¯ - å®ä½“åœ¨ render åæ¶ˆäº¡
fn render(&mut self, window: &mut Window, cx: &mut Context<Self>) -> impl IntoElement {
    let widget = cx.new(|cx| Widget::new()); // æ¶ˆäº¡ï¼
    v_flex().child(widget)
}

// âœ… æ­£ç¡® - å­˜å‚¨åœ¨ç»“æ„ä½“ä¸­
struct MyPanel {
    widget: Entity<Widget>,
}

fn render(&mut self, window: &mut Window, cx: &mut Context<Self>) -> impl IntoElement {
    v_flex().child(self.widget.clone())
}
```

**äº‹ä»¶æ€»çº¿æ¨¡å¼ï¼š**

```rust
// åœ¨ UI çº¿ç¨‹ä¸­è®¢é˜…
let (tx, mut rx) = tokio::sync::mpsc::unbounded_channel();
session_bus.subscribe(move |event| {
    let _ = tx.send((*event.update).clone());
});

cx.spawn(|mut cx| async move {
    while let Some(update) = rx.recv().await {
        cx.update(|cx| {
            // æ›´æ–° UI
            cx.notify();
        });
    }
}).detach();
```

### æ ¼å¼åŒ–

```bash
# æ ¼å¼åŒ–æ‰€æœ‰ä»£ç 
cargo fmt

# æ£€æŸ¥æ ¼å¼
cargo fmt --check

# ä½¿ç”¨ Clippy æ£€æŸ¥
cargo clippy -- --deny warnings
```

---

## æäº¤æ¶ˆæ¯æŒ‡å—

æˆ‘ä»¬éµå¾ª**çº¦å®šå¼æäº¤**ä»¥ä¿æŒæ¸…æ™°çš„å†å²è®°å½•ï¼š

### æ ¼å¼

```
<ç±»å‹>(<èŒƒå›´>): <ä¸»é¢˜>

<æ­£æ–‡>

<é¡µè„š>
```

### ç±»å‹

- `feat`ï¼šæ–°åŠŸèƒ½
- `fix`ï¼šé”™è¯¯ä¿®å¤
- `docs`ï¼šæ–‡æ¡£æ›´æ”¹
- `style`ï¼šä»£ç é£æ ¼æ›´æ”¹ï¼ˆæ ¼å¼åŒ–ç­‰ï¼‰
- `refactor`ï¼šä»£ç é‡æ„
- `perf`ï¼šæ€§èƒ½æ”¹è¿›
- `test`ï¼šæ·»åŠ æˆ–æ›´æ–°æµ‹è¯•
- `chore`ï¼šç»´æŠ¤ä»»åŠ¡
- `ci`ï¼šCI/CD æ›´æ”¹

### ç¤ºä¾‹

```bash
feat(conversation): æ·»åŠ  markdown æ¸²æŸ“æ”¯æŒ

åœ¨èŠå¤©æ¶ˆæ¯ä¸­å®ç°ç¬¦åˆ CommonMark çš„ markdown æ¸²æŸ“ã€‚
åŒ…æ‹¬æ”¯æŒå¸¦è¯­æ³•é«˜äº®çš„ä»£ç å—ã€‚

Closes #123

---

fix(terminal): è§£å†³ Windows ä¸Šçš„ shell è·¯å¾„æ£€æµ‹

ç»ˆç«¯æ— æ³•åœ¨ Windows 11 ä¸Šæ‰¾åˆ° PowerShellã€‚
ç°åœ¨æ£€æŸ¥å¤šä¸ªå¸¸è§è·¯å¾„ã€‚

Fixes #456

---

docs(readme): æ›´æ–°å®‰è£…è¯´æ˜

æ·»åŠ äº† Linux åŒ…ç®¡ç†å™¨çš„è¯´æ˜ã€‚
```

### è§„åˆ™

- ä½¿ç”¨**ç°åœ¨æ—¶**ï¼š"add feature" è€Œä¸æ˜¯ "added feature"
- ä½¿ç”¨**ç¥ˆä½¿è¯­æ°”**ï¼š"fix bug" è€Œä¸æ˜¯ "fixes bug"
- **å¤§å†™**ä¸»é¢˜çš„ç¬¬ä¸€ä¸ªå­—æ¯
- ä¸»é¢˜æœ«å°¾**æ²¡æœ‰å¥å·**
- ä¸»é¢˜è¡Œä¿æŒ**72 ä¸ªå­—ç¬¦ä»¥å†…**
- åœ¨é¡µè„šä¸­å¼•ç”¨é—®é¢˜/PR

---

## æ‹‰å–è¯·æ±‚æµç¨‹

### æäº¤å‰

1. **ä» main æ›´æ–°**ï¼š
   ```bash
   git checkout main
   git pull upstream main
   git checkout your-branch
   git rebase main
   ```

2. **è¿è¡Œæ£€æŸ¥**ï¼š
   ```bash
   cargo fmt --check
   cargo clippy -- --deny warnings
   cargo test
   cargo build --release
   ```

3. **æ›´æ–°æ–‡æ¡£**ï¼ˆå¦‚æœéœ€è¦ï¼‰

### PR æ¨¡æ¿

```markdown
## æè¿°
æ›´æ”¹çš„ç®€è¦æè¿°

## æ›´æ”¹ç±»å‹
- [ ] é”™è¯¯ä¿®å¤
- [ ] æ–°åŠŸèƒ½
- [ ] ç ´åæ€§æ›´æ”¹
- [ ] æ–‡æ¡£æ›´æ–°

## è¿›è¡Œçš„æ›´æ”¹
- æ›´æ”¹ 1
- æ›´æ”¹ 2
- ...

## æµ‹è¯•
å¦‚ä½•æµ‹è¯•çš„ï¼Ÿ

## å±å¹•æˆªå›¾ï¼ˆå¦‚æœé€‚ç”¨ï¼‰
ä¸º UI æ›´æ”¹æ·»åŠ å±å¹•æˆªå›¾

## æ£€æŸ¥æ¸…å•
- [ ] ä»£ç éµå¾ªé¡¹ç›®é£æ ¼
- [ ] æ·»åŠ /æ›´æ–°äº†æµ‹è¯•
- [ ] æ›´æ–°äº†æ–‡æ¡£
- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡
- [ ] æ²¡æœ‰æ–°è­¦å‘Š
```

### å®¡æŸ¥æµç¨‹

1. **è‡ªåŠ¨æ£€æŸ¥**å¿…é¡»é€šè¿‡
2. è‡³å°‘**ä¸€åç»´æŠ¤è€…**å°†å®¡æŸ¥
3. åœ¨æ–°æäº¤ä¸­è§£å†³åé¦ˆ
4. ä¸€æ—¦æ‰¹å‡†ï¼Œç»´æŠ¤è€…å°†åˆå¹¶

### åˆå¹¶å

1. åˆ é™¤æ‚¨çš„åˆ†æ”¯
2. æ‹‰å–æœ€æ–°æ›´æ”¹
3. åº†ç¥ï¼ğŸ‰

---

## æµ‹è¯•

### è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
cargo test --all

# è¿è¡Œç‰¹å®šæµ‹è¯•
cargo test test_name

# å¸¦è¾“å‡ºè¿è¡Œ
cargo test -- --nocapture

# è¿è¡Œé›†æˆæµ‹è¯•
cargo test --test integration_test
```

### ç¼–å†™æµ‹è¯•

```rust
#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn test_feature() {
        // å‡†å¤‡
        let input = create_test_data();

        // æ‰§è¡Œ
        let result = function_under_test(input);

        // æ–­è¨€
        assert_eq!(result, expected);
    }

    #[test]
    #[should_panic(expected = "error message")]
    fn test_error_handling() {
        panic_function();
    }
}
```

### æµ‹è¯•æŒ‡å—

- æµ‹è¯•**å…¬å…± API**ï¼Œè€Œä¸æ˜¯ç§æœ‰å®ç°
- ä½¿ç”¨**æè¿°æ€§æµ‹è¯•åç§°**
- éµå¾ª**å‡†å¤‡-æ‰§è¡Œ-æ–­è¨€**æ¨¡å¼
- æµ‹è¯•**è¾¹ç•Œæƒ…å†µ**å’Œé”™è¯¯æ¡ä»¶
- ä¿æŒæµ‹è¯•**å¿«é€Ÿ**å’Œ**ç¡®å®šæ€§**

---

## æ–‡æ¡£

### ä»£ç æ–‡æ¡£

```rust
/// ç®€çŸ­çš„å•è¡Œæè¿°
///
/// æ›´é•¿çš„æè¿°ï¼ŒåŒ…å«æ›´å¤šè¯¦ç»†ä¿¡æ¯ã€‚
///
/// # å‚æ•°
/// * `param` - å‚æ•°æè¿°
///
/// # è¿”å›
/// è¿”å›å€¼æè¿°
///
/// # ç¤ºä¾‹
/// ```
/// let result = function(42);
/// assert_eq!(result, expected);
/// ```
///
/// # Panics
/// å¯¼è‡´ panic çš„æ¡ä»¶
///
/// # Errors
/// é”™è¯¯æ¡ä»¶å’Œå«ä¹‰
pub fn function(param: i32) -> Result<String> {
    // å®ç°
}
```

### ç”¨æˆ·æ–‡æ¡£

- ä¸ºé¢å‘ç”¨æˆ·çš„æ›´æ”¹æ›´æ–° README
- åœ¨ docs æ–‡ä»¶å¤¹ä¸­æ·»åŠ ç¤ºä¾‹
- ä¸º UI æ›´æ”¹åŒ…å«å±å¹•æˆªå›¾
- æ›´æ–°å˜æ›´æ—¥å¿—

---

## ç¤¾åŒº

### è·å–å¸®åŠ©

- **GitHub è®¨è®ºåŒº**ï¼šæé—®ã€åˆ†äº«æƒ³æ³•
- **Issues**ï¼šæŠ¥å‘Šé”™è¯¯ã€è¯·æ±‚åŠŸèƒ½
- **Pull Requests**ï¼šè´¡çŒ®ä»£ç 

### è®¤å¯

è´¡çŒ®è€…å°†åœ¨ä»¥ä¸‹ä½ç½®è·å¾—è®¤å¯ï¼š
- README è‡´è°¢
- å‘å¸ƒè¯´æ˜
- GitHub è´¡çŒ®è€…é¡µé¢

æ„Ÿè°¢æ‚¨ä¸º AgentX åšå‡ºè´¡çŒ®ï¼æ‚¨çš„åŠªåŠ›ä½¿è¿™ä¸ªé¡¹ç›®å¯¹æ¯ä¸ªäººéƒ½æ›´å¥½ã€‚ğŸš€

---

## è®¸å¯è¯

é€šè¿‡è´¡çŒ®ï¼Œæ‚¨åŒæ„æ‚¨çš„è´¡çŒ®å°†æ ¹æ® Apache-2.0 è®¸å¯è¯è·å¾—è®¸å¯ã€‚
